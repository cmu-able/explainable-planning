<!DOCTYPE HTML>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<title>Instruction</title>
		<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
		<script src="scripts/utils.js"></script>
		<style>
			.crop {
				width: 700px;
				height: 400px; /* 300px for the image height; 100px for the caption */
				overflow: hidden;
			}
			.crop img {
				width: 900px;
				height: 300px;
			}
		</style>
	</head>
	<body>
		<div class="w3-container">
		<h4>Introduction</h4>
			<p>Our research aims to understand how people interpret and understand the objectives of an autonomous agent (e.g., a robot) by observing its behavior. In this study, consider a mobile robot navigating inside a building. Its task is to move from its current location to a given destination (see Figures 1 and 2 for illustration). The robot must navigate to the destination while optimizing for 3 objectives, namely, minimizing its driving time, its expected collisions with obstacles, and its intrusiveness to human occupants in the building (see Figures 3-7 for details).</p>
			<div class="w3-row w3-margin">
				<div class="w3-container w3-half crop">
					<img src="imgs/floor-plan.png">
					<p><b>Figure 1</b>: Robot has to navigate from its location to a given goal.</p>
				</div>
				<div class="w3-container w3-half">
					<img src="imgs/topology.png">
					<p><b>Figure 2</b>: The map of the building is represented abstractly by a set of <i>waypoints</i> and <i>connections</i> among them. Each waypoint represents a location in the building, and a connection between 2 waypoints means that Robot can move between the 2 locations.</p>
				</div>
			</div>
			
			<!-- Collision -->
			<div class="w3-row w3-margin">
				<div class="w3-container w3-half crop">
					<img src="imgs/obstacles.png">
					<p><b>Figure 3</b>: There are some obstacles around the building. When Robot moves through a path with obstacles, it <i>may</i> bump into them. Robot is more likely to bump into obstacles when they are <i>dense</i> than when they are <i>sparse</i>.</p>
				</div>
				<div class="w3-container w3-half">
					<img src="imgs/obstacles-abstract.png">
					<p><b>Figure 4</b>: In an abstract map, obstacles are represented on a connection between 2 waypoints. This means when Robot moves from one waypoint to the other, it <i>may</i> bump into the obstacles on the way. The "SO" notation on the map denotes sparse obstacles, and the "DO" notation denotes dense obstacles.</p>
				</div>
			</div>
			<div class="w3-container w3-center w3-margin">
				<img src="imgs/collision-table.png" class="w3-image">
				<p class="w3-left-align">
				<b>Figure 5</b>: A <i>collision</i> occurs when Robot bumps into obstacles while moving at its full speed (i.e., 0.7 meters/second). However, bumping into obstacles at low speed (i.e., 0.35 meters/second) does NOT result in a collision.
				</p>
				<p class="w3-left-align">
				Every time Robot moves through <i>sparse</i> obstacles (SO), and through <i>dense</i> obstacles (DO), at full speed, it has 20% and 40% probability of colliding, respectively. In other words, the <i>expected collision</i> of moving at full speed through each SO and DO is 0.2 and 0.4, respectively.
				</p>
			</div>
			
			<!-- Intrusiveness -->
			<div class="w3-row w3-margin">
				<div class="w3-container w3-half crop">
					<img src="imgs/zones.png">
					<p><b>Figure 6</b>: The building has 3 types of zones: (i) <i>public zones</i>, which are appropriate for Robot to move around without being intrusive to human occupants, (ii) <i>semi-private zones</i> and (iii) <i>private zones</i>, which Robot is discouraged from entering, since it may be somewhat intrusive, and very intrusive, to the human occupants, respectively.</p>
				</div>
				<div class="w3-container w3-half">
					<img src="imgs/zones-abstract.png">
					<p><b>Figure 7</b>: In an abstract map, each waypoint is color-coded to represent the type of zone in which it belongs. When Robot enters a <i>public</i> waypoint, it does not receive any <i>intrusiveness penalty</i>. However, each time Robot enters a <i>semi-private</i> or a <i>private</i> waypoint, it receives a penalty of 1 or 3, respectively.</p>
				</div>
			</div>
			<p>However, it is not always possible to find a way to the destination that takes the shortest amount of time, has the lowest expected collisions, and is the least intrusive to human occupants. The robot may need to make a tradeoff among these objectives. For instance, to avoid driving through private zones of the building (i.e., being intrusive), it would need to take a detour to the destination.</p>
			<div class="w3-row w3-margin">
				<div class="w3-container w3-half w3-center crop">
					<img src="imgs/problem.png">
					<p>Figure 8: TODO caption</p>
				</div>
				<div class="w3-container w3-half w3-center">
					<img src="imgs/problem-abstract.png">
					<p>Figure 9: TODO caption</p>
				</div>
			</div>
			<div class="w3-row w3-margin">
				<div class="w3-container w3-half w3-center crop">
					<img src="imgs/plan1.png">
					<p>Figure 10: TODO caption</p>
				</div>
				<div class="w3-container w3-half w3-center">
					<img src="imgs/plan1-abstract.png">
					<p>Figure 11: TODO caption</p>
				</div>
			</div>
			<div class="w3-row w3-margin">
				<div class="w3-container w3-half w3-center crop">
					<img src="imgs/plan2.png">
					<p>Figure 12: TODO caption</p>
				</div>
				<div class="w3-container w3-half w3-center">
					<img src="imgs/plan2-abstract.png">
					<p>Figure 13: TODO caption</p>
				</div>
			</div>
			<p>TODO: Figure with examples of different ways the robot can make tradeoffs. Illustrate how weights determine a tradeoff.</p>
			<p>Imagine that you are a user of the robot -- you want the robot to deliver a package at some destination. You have in mind how you would weigh the importance of each of the objectives. For instance, if you are in a rush to deliver the package, you may want the robot to get to the destination as soon as possible, even if it has to be more intrusive to the building occupants.</p>
			<p>Unfortunately, you cannot control how the robot weighs its objectives. The robot will make its own decision on how to navigate to the destination, and its decision may or may not be in agreement with how you would weigh the objectives. However, you are able to see the robot's plan before it is taking off.</p>
			<h4>Task</h4>
			<p>In this task, you are given a <i>cost profile</i> representing how a hypothetical robot's user weighs the importance of the 3 objectives. An example of a cost profile is:</p>
				<div class="w3-responsive w3-cell">
					<table class="w3-table" style="max-width:500px;min-width:350px">
						<tr>
							<th></th>
							<th class="w3-right-align">Cost ($)</th>
						</tr>
						<tr>
							<td>1 minute of travel time</td>
							<td class="w3-right-align">$1</td>
						</tr>
						<tr>
							<td>0.1 expected collision</td>
							<td class="w3-right-align">$9</td>
						</tr>
						<tr>
							<td>1 intrusiveness-penalty</td>
							<td class="w3-right-align">$5</td>
						</tr>
					</table>
				</div>
				<div class="w3-container w3-cell w3-cell-middle" style="max-width:800px;padding-left:80px">
					<p>A <i>total cost</i> of a navigation plan can be computed from the cost profile. For example, if a navigation takes 5 minutes, has 0.4 expected collision, and has intrusiveness-penalty of 3, then its total cost is ($1 * 5) + ($9 * 0.4/0.1) + ($5 * 3) = $56.</p>
					<p><b>A best navigation, with respect to a particular cost profile, is one that has the lowest total cost.</b></p>
				</div>
     <p>Then, you will be presented with a navigation plan that the robot came up with. However, the robot <i>may</i> have weighed the objectives differently than your given cost profile. In other words, the robot's plan may or may not prioritize the objectives as the hypothetical user wishes.</p>
			<p><b>Your task is to determine whether the robot's plan is the best available option for this hypothetical user.</b></p>
		</div>
		<div class="w3-container">
			<p>TODO: Demo</p>
		</div>
		<div class="w3-container">
			<a class="w3-button w3-block w3-teal" href="#" id="linkToHeadQuestion">Continue to the Task</a>
		</div>
		<script>
		  // Save all MTurk parameters (assignmentId, hitId, turkSubmitTo, and workerId) from the url to localStorage
			saveMTurkParametersToLocalStorage();
			
			// Direct to the 1st page of linked questions
			document.getElementById("linkToHeadQuestion").onclick = function() {
				var url = window.location.href;
				var params = getQueryStringParameters(url);
				
				// Relative path to the 1st question file in HIT
				var headQuestionRelUrl = params["headQuestion"];
				
				// MTurk parameters
				var assignmentId = params["assignmentId"];
				var hitId = params["hitId"];
				var turkSubmitTo = params["turkSubmitTo"];
				var workerId = params["workerId"];
				
				// Pass MTurk parameters to question html file to use functionality of <crowd-form>
				var headQuestionRelUrlWithParams = headQuestionRelUrl + "?";
				headQuestionRelUrlWithParams += "assignmentId=" + assignmentId;
				headQuestionRelUrlWithParams += "&hitId=" + hitId;
				headQuestionRelUrlWithParams += "&turkSubmitTo=" + turkSubmitTo;
				headQuestionRelUrlWithParams += "&workerId=" + workerId;
				
				location.href = headQuestionRelUrlWithParams;
				return false;
			};
		</script>
	</body>
</html>