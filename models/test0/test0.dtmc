dtmc

// Possible values of rLoc
const int rLoc_L1 = 0;
const int rLoc_L2 = 1;

// Possible values of rSpeed
const int rSpeed_0_35 = 0;
const int rSpeed_0_7 = 1;

// Possible instances of action setSpeed
const int setSpeed0_35 = 0;
const int setSpeed0_7 = 1;

// Possible instances of action moveTo
const int moveToL2 = 2;
const int moveToL1 = 3;


module module_1
  rLoc : [0..1] init 0;

  // moveTo
  [moveToL1] rLoc=1 -> 1.0:(rLoc'=0);
  [moveToL2] rLoc=0 & rSpeed=0 -> 1.0:(rLoc'=1);

endmodule

module module_2
  rSpeed : [0..1] init 0;

endmodule

module helper
  rLocSrc : [0..1] init 0;
  rSpeedSrc : [0..1] init 0;
  action : [-1..3] init -1;
  readyToCopy : bool init true;

  [moveToL2] readyToCopy -> (rLocSrc'=rLoc) & (action'=2) & (readyToCopy'=false);
  [moveToL1] readyToCopy -> (rLocSrc'=rLoc) & (action'=3) & (readyToCopy'=false);

  [next] !readyToCopy -> (readyToCopy'=true);
endmodule


rewards "travelTime"
  [next] action=2 & rLocSrc=0 & rSpeed=0 & rLoc=1 : 28.571428571428573;
  [next] action=2 & rLocSrc=0 & rSpeed=1 & rLoc=1 : 14.285714285714286;
  [next] action=3 & rLocSrc=1 & rSpeed=0 & rLoc=0 : 28.571428571428573;
  [next] action=3 & rLocSrc=1 & rSpeed=1 & rLoc=0 : 14.285714285714286;
endrewards